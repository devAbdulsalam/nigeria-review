
<!DOCTYPE html>
<html lang="en" id="html" x-data="global()" class="h-full js-focus-visible">
	<head>
		<meta charset="utf-8">
		
        <!--             
                    *******,******,            
                .,,,.******,**********.        
              ,,,,,,,,*****,************,      
            .,,,,,,,,,,****,**************.    
           ,,,,,,,,,,,,****,***************.   
          ,.,,,,,,,,,,,,,**,****************,        ____    __                                ____        ___    ___    
         */////,.,,,,,,,,**,*****************       /\  _`\ /\ \__                            /\  _`\     /\_ \  /\_ \    
         //////////*,,,,,.*,*****************.      \ \,\L\_\ \ ,_\  _ __    __     __  __  __\ \ \L\ \___\//\ \ \//\ \    
         ///////////////*..,*****************,       \/_\__ \\ \ \/ /\`'__\/'__`\  /\ \/\ \/\ \\ \ ,__/ __`\\ \ \  \ \ \   
         /////////////////,*,,***************,         /\ \L\ \ \ \_\ \ \//\ \L\.\_\ \ \_/ \_/ \\ \ \/\ \L\ \\_\ \_ \_\ \_ 
         ///////////////,******,,************.         \ `\____\ \__\\ \_\\ \__/.\_\\ \___x___/' \ \_\ \____//\____\/\____\ 
         *///////////*,***********,**********           \/_____/\/__/ \/_/ \/__/\/_/ \/__//__/    \/_/\/___/ \/____/\/____/
          *////////*,****************,******,  
           //////*,********************,,**.   
            ,//***************************.    
              ,*************************,      
                .*********************.        
                   .,***********/*, 
        -->

		<title>How easy is it to embed a StrawPoll? - Online Poll - StrawPoll</title>

		<meta name="description" content="What&#39;s your opinion? Vote now: Super easy, Somewhat easy, Moderate, Quite difficult, Very difficult..." />

		<meta name="viewport" content="width=device-width, initial-scale=1">

		<meta name="robots" content="noimageindex, noarchive, max-image-preview:large">	

			<link rel="canonical" href="https://strawpoll.com/rae5gcp1" />



		<link rel="stylesheet" href="https://cdn.strawpoll.com/dist/main.css?v=231">

		<script defer src="https://cdn.strawpoll.com/dist/app.js?v=231"></script>
		


			<meta name="twitter:card" content="summary_large_image" />
<meta property="fb:app_id" content="567582844767504" />

<meta property="og:site_name" content="StrawPoll" />
<meta property="og:title" content="How easy is it to embed a StrawPoll? - Online Poll - StrawPoll" />
<meta property="og:description" content="What&#39;s your opinion? Vote now: Super easy, Somewhat easy, Moderate, Quite difficult, Very difficult..." />
<meta property="og:type" content="website" />
<meta property="og:url" content="https://strawpoll.com/rae5gcp1" />
<meta property="og:image" content="https://cdn.strawpoll.com/images/logos/strawpoll-logo-title-splash.png" />
<meta property="og:image:width" content="1200" />
<meta property="og:image:height" content="630" />
<meta property="og:locale" content="en" />



		<meta name="apple-mobile-web-app-title" content="StrawPoll" />
<meta name="application-name" content="StrawPoll" />

<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">



		<style>
			[x-cloak] {
			  display: none;
			}
		</style>

		<script>
	const TIMESTAMP = new Date().getTime()
	const WEBSOCKET_URL = 'wss://ws.strawpoll.com'
	const API_ENDPOINT = 'https://api.strawpoll.com/v3'
	const STATIC_URL = 'https://cdn.strawpoll.com'
	const DEVICE_TYPE = 'desktop'
	const APP_VERSION = '231'

	const L = {
		'error_retry': 'An error occurred. Please reload the page and try again.',
		'timeout_retry': 'Timeout, please try again.',
		'already_voted': 'You already voted on this poll.',
		'incognito_vote': 'Voting in incognito mode is not allowed. Please disable incognito mode and try again.',
		'backend_error': 'Backend error.',
		'request_failed': 'Request failed.',
		'request_help': 'Please contact support@strawpoll.com for help.',
		'day': 'day',
		'days': 'days',
		'hour': 'hour',
		'hours': 'hours',
		'minute': 'minute',
		'minutes': 'minutes',
		'second': 'second',
		'seconds': 'seconds',
	}

	const APPEARANCE = 'auto'
</script>


		

<script>
	let defaultThemeLight = { 'id': null, 'name': 'Default', colors: { 'pageBg': '#f9fafb', 'boxBg': '#ffffff', 'boxBorder': '#e5e8eb', 'boxBorderTop': '#fbbf24', 'title': '#111827', 'text': '#6b7280', 'highlight': '#4f46e5', 'buttonBg': '#4f46e5', 'buttonText': '#ffffff', 'border': '#e5e7eb', 'titleColor': '#000', 'textColor': '#444', 'primaryColor': '#00f', 'answerColor': '#000', }, 'hideShareButton': false }
	let defaultThemeDark = { 'id': null, 'name': 'Default', colors: { 'pageBg': '#111827', 'boxBg': '#1f2937', 'boxBorder': '#374151', 'boxBorderTop': '#818cf8', 'title': '#e5e7eb', 'text': '#94a3b8', 'highlight': '#6366f1', 'buttonBg': '#6366f1', 'buttonText': '#ffffff', 'border': '#374151' }, 'hideShareButton': false }

		let customTheme = { id: null }

	let currentTheme = defaultThemeLight

	if (APPEARANCE === 'dark' || APPEARANCE === 'auto' && window.matchMedia('(prefers-color-scheme: dark)').matches) {
		document.getElementById('html').classList.add('dark')
		currentTheme = defaultThemeDark
	}

	if (customTheme.id) {
		currentTheme = customTheme

		if (isDarkBg(hexToRGBA(customTheme.colors.pageBg, 1, 0, 1))) {
			if (!document.getElementById('html').classList.contains('dark')) {
				document.getElementById('html').classList.add('dark')
			}
		} else {
			if (document.getElementById('html').classList.contains('dark')) {
				document.getElementById('html').classList.remove('dark')
			}
		}
	}

		let pollOptionColors = ['#3EB991', '#FF7563', '#AA66CC', '#FFBB33', '#FF8800', '#33B5E5', '#AA66CC']

	setCustomTheme(currentTheme)

	function setCustomTheme(theme) {
		for (const [key, value] of Object.entries(theme.colors)) {
			document.documentElement.style.setProperty('--'+key, hexToRGBA(value, 1, 0, 1))
		}

		document.documentElement.style.setProperty('--buttonBgLight', hexToRGBA(theme.colors['buttonBg'],  1, 1, 1.16))
		document.documentElement.style.setProperty('--borderDark', hexToRGBA(theme.colors['border'], 1, 1, 0.84))
		document.documentElement.style.setProperty('--highlightDark', hexToRGBA(theme.colors['highlight'], 1, 1, 0.84))
		document.documentElement.style.setProperty('--textShadow', hexToRGBA(theme.colors['text'], 1, 5, 0.954))
		document.documentElement.style.setProperty('--textLight', hexToRGBA(theme.colors['text'], 0.8, 0, 1)) // 1, 113, 0.5568)
		document.documentElement.style.setProperty('--textLighter', hexToRGBA(theme.colors['text'], 1, 168, 0.3431))
		document.documentElement.style.setProperty('--highlightShadow', hexToRGBA(theme.colors['highlight'], 1, 58, 0.772))

		// new
		if (theme.colors['titleColor']) {
			// document.documentElement.style.setProperty('--titleColorLight', hexToRGBA(theme.colors['titleColor'], 1, 113, 0.5568))
			document.documentElement.style.setProperty('--titleColorLight', hexToRGBA(theme.colors['titleColor'], 0.2, 0, 1))
			document.documentElement.style.setProperty('--textColorLight', hexToRGBA(theme.colors['textColor'], 1, 113, 0.5568))
			document.documentElement.style.setProperty('--primaryColorLight', hexToRGBA(theme.colors['primaryColor'], 1, 113, 0.5568))
			document.documentElement.style.setProperty('--answerColorLight', hexToRGBA(theme.colors['answerColor'], 0.6, 0, 1))
			document.documentElement.style.setProperty('--answerColorLighter', hexToRGBA(theme.colors['answerColor'], 0.3, 0, 1))
			document.documentElement.style.setProperty('--answerColorLightest', hexToRGBA(theme.colors['answerColor'], 0.1, 0, 1))
		}
	}

	function hexToRGBA(hex, opacity, modifierAdd, modifierMulti) {
		if (!hex) {
			return 'rgba(0, 0, 0, 0)'
		}
		let c;
		if (/^#([A-Fa-f0-9]{3}){1,2}$/.test(hex)) {
			c = hex.substring(1).split('')
			if (c.length === 3) {
				c= [c[0], c[0], c[1], c[1], c[2], c[2]]
			}
			c= '0x'+c.join('')
			return 'rgba('+[(c>>16)&255, (c>>8)&255, c&255].map(x => parseInt(modifierAdd + modifierMulti * x)).join(',')+', '+opacity+')'
		}
	}

	function isDarkBg(color) {
		let colors = color.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/)

		let r = colors[1]
		let g = colors[2]
		let b = colors[3]
		let a = parseInt(colors[4])

		if (a === 0) return 0

		let hsp = Math.sqrt(0.299 * (r * r) + 0.587 * (g * g) +	0.114 * (b * b))

		if (hsp <= 127.5) {
			return 1
		}
	}
</script>

<style>
	/* THEME */
	:root {
		--backgroundColor: rgba(240, 240, 240, 1);
		--sectionBackgroundColor: rgba(255, 255, 255, 1);
		--titleColor: rgba(0, 0, 0, 1);
		--titleColorLight: rgba(150, 150, 150, 1);
		--textColor: rgba(100, 100, 100, 1);
		--textColorLight: rgba(200, 200, 200, 1);
		--answerColor: rgba(255, 0, 255, 1);
		--primaryColor: rgba(0, 0, 255, 1);
		--brandBorderColor: rgba(251, 191, 36, 1);
	}
	.form-background {
		background-color: var(--backgroundColor);
	}
	.form-section-wrapper {
		background-color: var(--sectionBackgroundColor);
	}
	.form-section {
		background-color: var(--sectionBackgroundColor);
	}
	.section-title, .section-title::placeholder {
		color: var(--titleColor);
	}
	/* .section-title::placeholder {
		color: var(--titleColorLight);
	} */
	.section-text, .section-text::placeholder {
		color: var(--textColor);
	}
	/* .section-text::placeholder {
		color: var(--textColorLight);
	} */
	.field-choice-input, .field-choice-input::placeholder {
		color: var(--answerColor);
	}
	/* .field-choice-input::placeholder {
		color: var(--answerColorLight);
	} */
	.section-title:hover, .section-text:hover, .field-choice-input:hover {
		border-color: var(--textColorLight);
	}
	.section-title:focus, .section-text:focus, .field-choice-input:focus {
		border-color: var(--primaryColor);
	}
	.field-choice-card {
		color: var(--answerColor);
		border-color: var(--answerColorLight);
		background-color: var(--answerColorLightest);
	}
	.form .field-choice-card:hover {
		background-color: var(--answerColorLighter);
	}
	.choice-symbol {
		border-color: var(--answerColorLight);
		background-color: var(--sectionBackgroundColor);
	}

	.primary-link {
		color: var(--primaryColor);
	}

	.brand-border-top {
		border-top: 4px solid var(--brandBorderColor);
	}
	.border-text {
		border-color: var(--textColor);
	}

	/* layout: plain, card, image_top, image_left, image_right, transparent */
	/* background_image */
	/* logo_image */
	/* colors: page_bg, question_bg, title, questions, answers, primary (highlight), secondary */
	/* font */
	/* text size */
	/* align: left, center, right */
	/* ltr? */
</style>






		<style>
			/* THEME */
			:root {
				/* --backgroundColor: rgba(240, 240, 240, 1);
				--questionBackgroundColor: rgba(255, 255, 255, 1);
				--titleColor: rgba(0, 0, 0, 1);
				--titleColorLight: rgba(150, 150, 150, 1);
				--textColor: rgba(100, 100, 100, 1);
				--textColorLight: rgba(200, 200, 200, 1);
				--answerColor: rgba(255, 0, 255, 1);
				--primaryColor: rgba(0, 0, 255, 1); */
		
				/* dark mode */
				--formBackgroundColor: rgba(17, 24, 39);
				--questionBackgroundColor: rgba(31, 41, 55, 1);
				--questionTitleColor: rgba(255, 255, 255, 1);
				--questionTitleColorLight: rgba(150, 150, 150, 1);
				--questionTextColor: rgba(100, 100, 100, 1);
				--questionTextColorLight: rgba(200, 200, 200, 1);
				--questionChoiceColor: rgba(255, 0, 255, 1);
				--questionChoiceColorLight: rgba(255, 0, 255, 1);
				--questionChoiceColorLightest: rgba(255, 0, 255, 1);
				--formPrimaryColor: rgba(0, 0, 255, 1);
		
				--formBorderColor: rgba(55, 65, 81, 1);
				--formBorderTopColor: rgba(129, 140, 248, 1);
			}
			.form-background {
				background-color: var(--formBackgroundColor);
			}
			.form-question-wrapper {
				background-color: var(--questionBackgroundColor);
			}
			.form-question {
				background-color: var(--questionBackgroundColor);
			}
			.question-top-border {
				border-top-color: var(--formBorderTopColor);
			}
			.question-title, .question-title::placeholder, .question-title input {
				color: var(--questionTitleColor);
			}
			/* .question-title::placeholder {
				color: var(--titleColorLight);
			} */
			.question-text, .question-text::placeholder {
				color: var(--questionTextColor);
			}
			/* .question-text::placeholder {
				color: var(--textColorLight);
			} */
			.field-choice-input, .field-choice-input::placeholder {
				color: var(--questionChoiceColor);
			}
			/* .field-choice-input::placeholder {
				color: var(--answerColorLight);
			} */
			.question-title:hover, .question-text:hover, .field-choice-input:hover {
				border-color: var(--questionTextColorLight);
			}
			.question-title:focus, .question-text:focus, .field-choice-input:focus {
				border-color: var(--formPrimaryColor);
			}
			.field-choice-card {
				color: var(--questionChoiceColor);
				border-color: var(--questionChoiceColorLight);
				background-color: var(--questionChoiceColorLightest);
			}
			.form .field-choice-card:hover {
				background-color: var(--questionChoiceColorLighter);
			}
			.choice-symbol {
				border-color: var(--questionChoiceColorLight);
				background-color: var(--questionBackgroundColor);
			}
		
			.primary-link {
				color: var(--formPrimaryColor);
			}
		
			/* layout: plain, card, image_top, image_left, image_right, transparent */
			/* background_image */
			/* logo_image */
			/* colors: page_bg, question_bg, title, questions, answers, primary (highlight), secondary */
			/* font */
			/* text size */
			/* align: left, center, right */
			/* ltr? */
		</style>
	</head>
	<body class="font-sans antialiased min-h-full flex flex-col text-default bg-gray-50 dark:bg-gray-900">		
		
		

		<div class="flex-auto custom-page-bg ">
			

	<div class="pt-0 sm:pt-16">

	</div>

<div @update-poll.window="$store.poll.update($event.detail.poll); $dispatch('refresh-results')" @delete-poll.window="setTimeout(() => { window.location.reload() }, 1500)"
	class="strawpoll-container  pt-0 sm:pt-10 pb-12 sm:px-4" id="strawpoll_box_eNg6RNDvjgA">






	<div class="space-y-8 mb-8">
		<div class="strawpoll-box custom-box custom-box-primary overflow-visible mx-auto max-w-3xl" :class="{ 'max-w-3xl': !expandBox, 'max-w-full': expandBox }">
			
<form x-data="pollVote()" class="strawpoll-form px-4 pt-5 pb-4 sm:p-6 space-y-8" method="POST" action="/vote" @submit.prevent="votePoll()">
		

<div x-data="{ poll: Alpine.store(&#39;poll&#39;), i: 0,  }" class="flex justify-between">
	<div class="flex-grow flex flex-col">
			<h1 class="strawpoll-title text-2xl text-gray-900 dark:text-gray-200 font-semibold custom-title break-words" x-text="poll.title">
				How easy is it to embed a StrawPoll?
			</h1>
			<div class="mt-1 text-gray-500 flex items-center custom-text">
				<span>
						
		<span class="inline-flex items-center space-x-1">
			<span>by</span>
			<span>
				Gregor Krambs
			</span>
			<span class="text-blue-500 custom-highlight">
				

<svg 
	
	class="h-5 w-5 " 
	xmlns="http://www.w3.org/2000/svg" 
	fill="currentColor"
	viewBox="0 0 24 24"
	stroke="">
	<path fill-rule="evenodd" clip-rule="evenodd" d="M8.60288 3.79876C9.42705 2.85093 10.6433 2.25 12 2.25C13.3566 2.25 14.5728 2.85087 15.397 3.79861C16.6501 3.71106 17.9352 4.14616 18.8946 5.10557C19.854 6.06498 20.2891 7.35009 20.2016 8.60319C21.1492 9.42735 21.75 10.6435 21.75 12C21.75 13.3568 21.149 14.5731 20.2011 15.3973C20.2884 16.6502 19.8533 17.935 18.8941 18.8943C17.9348 19.8535 16.65 20.2886 15.3971 20.2013C14.5729 21.1491 13.3567 21.75 12 21.75C10.6434 21.75 9.4272 21.1491 8.60304 20.2014C7.34992 20.289 6.0648 19.8539 5.10537 18.8945C4.14596 17.935 3.71086 16.6499 3.79841 15.3968C2.85079 14.5726 2.25 13.3565 2.25 12C2.25 10.6434 2.85085 9.42723 3.79855 8.60306C3.7111 7.35005 4.14621 6.06507 5.10554 5.10574C6.06488 4.1464 7.34987 3.71129 8.60288 3.79876ZM15.6103 10.1859C15.8511 9.84887 15.773 9.38046 15.4359 9.1397C15.0989 8.89894 14.6305 8.97701 14.3897 9.31407L11.1543 13.8436L9.53033 12.2197C9.23744 11.9268 8.76256 11.9268 8.46967 12.2197C8.17678 12.5126 8.17678 12.9874 8.46967 13.2803L10.7197 15.5303C10.8756 15.6862 11.0921 15.7656 11.3119 15.7474C11.5316 15.7293 11.7322 15.6153 11.8603 15.4359L15.6103 10.1859Z" fill="currentColor"/>

</svg>

			</span>
		</span>

						&middot; 
						<span x-data="{ date: timeago.format(poll.createdAt * 1000, 'en') }" x-init="setInterval(() => { date = timeago.format(poll.createdAt * 1000, 'en') }, 60000)" x-text="date"></span>
				</span>
			</div>
	</div>

	<div class="flex items-top space-x-3">
	</div>
</div>



		<div x-data="{ poll: Alpine.store(&#39;poll&#39;), i: 0,  }">
	<template x-if="poll.pollMeta.location">
		<div class="flex">
			<div class="text-gray-500 custom-text mr-3">
				

<svg 
	
	class="h-5 w-5 " 
	xmlns="http://www.w3.org/2000/svg" 
	fill="none"
	viewBox="0 0 24 24"
	stroke="currentColor">
	<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>

</svg>

			</div>
			<div class="text-gray-500 custom-text">
				<span x-text="poll.pollMeta.location" class="whitespace-pre-line break-words"></span>
			</div>
		</div>
	</template>
</div>


		<div x-data="{ poll: Alpine.store(&#39;poll&#39;), i: 0,  }">
	<template x-if="poll.pollMeta.description">
		<div class="flex">
			<div class="text-gray-500 custom-text mr-3">
				

<svg 
	
	class="h-5 w-5 " 
	xmlns="http://www.w3.org/2000/svg" 
	fill="none"
	viewBox="0 0 24 24"
	stroke="currentColor">
	<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"/>

</svg>

			</div>
			<div class="text-gray-500 custom-text">
				<span x-html="strawpoll.allowLinks(poll.pollMeta.description)" class="whitespace-pre-line break-words"></span>
			</div>
		</div>
	</template>
</div>


		<div x-data="{ poll: Alpine.store(&#39;poll&#39;), i: 0,  }">
	<template x-if="poll.media">
		<div class="flex justify-center px-0 sm:px-20">
				<img :src="STATIC_URL + poll.media.path" alt="Poll image" />
		</div>
	</template>
</div>

	
	<div x-data="defaultVote()" @update-checked-options.window="updateCheckedOptions()" @alert-min-options.window="alertMinOptions()">
	
<div class="text-gray-500 custom-text flex items-center">
	<template x-if="$store.poll.pollConfig.isMultipleChoice">
		<div>
			<template x-if="$store.poll.pollConfig.multipleChoiceMin === 1 && $store.poll.pollConfig.multipleChoiceMax === 1">
				<div>Make a choice:</div>
			</template>
			<template x-if="!$store.poll.pollConfig.multipleChoiceMin && !$store.poll.pollConfig.multipleChoiceMax">
				<div>Choose as many as you like:</div>
			</template>
			<template x-if="$store.poll.pollConfig.multipleChoiceMin > 1 && $store.poll.pollConfig.multipleChoiceMin === $store.poll.pollConfig.multipleChoiceMax">
				<div x-text="strawpoll.placeholder('Choose {number}', { number: $store.poll.pollConfig.multipleChoiceMax }) + ':'"></div>
			</template>
			<template x-if="typeof $store.poll.pollConfig.multipleChoiceMin !== 'undefined' && $store.poll.pollConfig.multipleChoiceMax && $store.poll.pollConfig.multipleChoiceMin !== $store.poll.pollConfig.multipleChoiceMax">
				<div x-text="strawpoll.placeholder('Choose {min} to {max} options', { min: $store.poll.pollConfig.multipleChoiceMin, max: $store.poll.pollConfig.multipleChoiceMax }) + ':'"></div>
			</template>
		</div>
	</template>
	<template x-if="!$store.poll.pollConfig.isMultipleChoice">
		<div>Make a choice:</div>
	</template>
</div>


	<fieldset class="strawpoll-options text-lg sm:text-base">
		<legend class="sr-only">Poll options</legend>

		<div class="mt-4" style="min-width: 168px;">
			<!-- desktop -->
					<div class="strawpoll-option flex items-center mt-3 label-disabled:opacity-50">
						<template x-if="$store.poll.pollConfig.isMultipleChoice">
							<input id="option-eNg6RNDvjgA-YVyPlP4vkyN" value="YVyPlP4vkyN" name="options-eNg6RNDvjgA" type="checkbox" x-model="checkedOptions" class="cursor-pointer h-5 w-5 rounded disabled:opacity-50 custom-checkbox" :disabled="optionsLimitReached() && !checkedOptions.includes('YVyPlP4vkyN')">
						</template>
						<template x-if="!$store.poll.pollConfig.isMultipleChoice">
							<input id="option-eNg6RNDvjgA-YVyPlP4vkyN" value="YVyPlP4vkyN" name="options-eNg6RNDvjgA" type="radio" x-model="checkedOptions[0]" @change="resetOtherOption()" class="cursor-pointer h-5 w-5 disabled:opacity-50 custom-radio" :disabled="optionsLimitReached() && !checkedOptions.includes('YVyPlP4vkyN')">
						</template>
					
						<label for="option-eNg6RNDvjgA-YVyPlP4vkyN" class="flex-grow cursor-pointer label-disabled:opacity-50 custom-text">
							<span class="ml-3 block">
								Super easy
							</span>
						</label>
					</div>
					<div class="strawpoll-option flex items-center mt-3 label-disabled:opacity-50">
						<template x-if="$store.poll.pollConfig.isMultipleChoice">
							<input id="option-eNg6RNDvjgA-jVyGNPa21Z7" value="jVyGNPa21Z7" name="options-eNg6RNDvjgA" type="checkbox" x-model="checkedOptions" class="cursor-pointer h-5 w-5 rounded disabled:opacity-50 custom-checkbox" :disabled="optionsLimitReached() && !checkedOptions.includes('jVyGNPa21Z7')">
						</template>
						<template x-if="!$store.poll.pollConfig.isMultipleChoice">
							<input id="option-eNg6RNDvjgA-jVyGNPa21Z7" value="jVyGNPa21Z7" name="options-eNg6RNDvjgA" type="radio" x-model="checkedOptions[0]" @change="resetOtherOption()" class="cursor-pointer h-5 w-5 disabled:opacity-50 custom-radio" :disabled="optionsLimitReached() && !checkedOptions.includes('jVyGNPa21Z7')">
						</template>
					
						<label for="option-eNg6RNDvjgA-jVyGNPa21Z7" class="flex-grow cursor-pointer label-disabled:opacity-50 custom-text">
							<span class="ml-3 block">
								Somewhat easy
							</span>
						</label>
					</div>
					<div class="strawpoll-option flex items-center mt-3 label-disabled:opacity-50">
						<template x-if="$store.poll.pollConfig.isMultipleChoice">
							<input id="option-eNg6RNDvjgA-BDyNk1pzznR" value="BDyNk1pzznR" name="options-eNg6RNDvjgA" type="checkbox" x-model="checkedOptions" class="cursor-pointer h-5 w-5 rounded disabled:opacity-50 custom-checkbox" :disabled="optionsLimitReached() && !checkedOptions.includes('BDyNk1pzznR')">
						</template>
						<template x-if="!$store.poll.pollConfig.isMultipleChoice">
							<input id="option-eNg6RNDvjgA-BDyNk1pzznR" value="BDyNk1pzznR" name="options-eNg6RNDvjgA" type="radio" x-model="checkedOptions[0]" @change="resetOtherOption()" class="cursor-pointer h-5 w-5 disabled:opacity-50 custom-radio" :disabled="optionsLimitReached() && !checkedOptions.includes('BDyNk1pzznR')">
						</template>
					
						<label for="option-eNg6RNDvjgA-BDyNk1pzznR" class="flex-grow cursor-pointer label-disabled:opacity-50 custom-text">
							<span class="ml-3 block">
								Moderate
							</span>
						</label>
					</div>
					<div class="strawpoll-option flex items-center mt-3 label-disabled:opacity-50">
						<template x-if="$store.poll.pollConfig.isMultipleChoice">
							<input id="option-eNg6RNDvjgA-DwyobY83DZA" value="DwyobY83DZA" name="options-eNg6RNDvjgA" type="checkbox" x-model="checkedOptions" class="cursor-pointer h-5 w-5 rounded disabled:opacity-50 custom-checkbox" :disabled="optionsLimitReached() && !checkedOptions.includes('DwyobY83DZA')">
						</template>
						<template x-if="!$store.poll.pollConfig.isMultipleChoice">
							<input id="option-eNg6RNDvjgA-DwyobY83DZA" value="DwyobY83DZA" name="options-eNg6RNDvjgA" type="radio" x-model="checkedOptions[0]" @change="resetOtherOption()" class="cursor-pointer h-5 w-5 disabled:opacity-50 custom-radio" :disabled="optionsLimitReached() && !checkedOptions.includes('DwyobY83DZA')">
						</template>
					
						<label for="option-eNg6RNDvjgA-DwyobY83DZA" class="flex-grow cursor-pointer label-disabled:opacity-50 custom-text">
							<span class="ml-3 block">
								Quite difficult
							</span>
						</label>
					</div>
					<div class="strawpoll-option flex items-center mt-3 label-disabled:opacity-50">
						<template x-if="$store.poll.pollConfig.isMultipleChoice">
							<input id="option-eNg6RNDvjgA-eJnv05JVMZv" value="eJnv05JVMZv" name="options-eNg6RNDvjgA" type="checkbox" x-model="checkedOptions" class="cursor-pointer h-5 w-5 rounded disabled:opacity-50 custom-checkbox" :disabled="optionsLimitReached() && !checkedOptions.includes('eJnv05JVMZv')">
						</template>
						<template x-if="!$store.poll.pollConfig.isMultipleChoice">
							<input id="option-eNg6RNDvjgA-eJnv05JVMZv" value="eJnv05JVMZv" name="options-eNg6RNDvjgA" type="radio" x-model="checkedOptions[0]" @change="resetOtherOption()" class="cursor-pointer h-5 w-5 disabled:opacity-50 custom-radio" :disabled="optionsLimitReached() && !checkedOptions.includes('eJnv05JVMZv')">
						</template>
					
						<label for="option-eNg6RNDvjgA-eJnv05JVMZv" class="flex-grow cursor-pointer label-disabled:opacity-50 custom-text">
							<span class="ml-3 block">
								Very difficult
							</span>
						</label>
					</div>
					
				<template x-if="$store.poll.pollConfig.allowOtherOption">
					<div class="other-option flex items-center mt-2 label-disabled:opacity-50">
						<template x-if="$store.poll.pollConfig.isMultipleChoice">
							<input id="option-other-eNg6RNDvjgA" value="otherOption" name="options-eNg6RNDvjgA" type="checkbox" x-model="checkedOptions" class="cursor-pointer h-5 w-5 rounded disabled:opacity-50 custom-checkbox" :disabled="optionsLimitReached() && !checkedOptions.includes('otherOption')" @click="$refs.otherOption.focus()">
						</template>
						<template x-if="!$store.poll.pollConfig.isMultipleChoice">
							<input id="option-other-eNg6RNDvjgA" value="otherOption" name="options-eNg6RNDvjgA" type="radio" x-model="checkedOptions[0]" class="cursor-pointer h-5 w-5 disabled:opacity-50 custom-radio" :disabled="optionsLimitReached() && !checkedOptions.includes('otherOption')" @click="$refs.otherOption.focus()">
						</template>
					
						<div class="ml-3 flex items-center label-disabled:opacity-50 custom-text flex-grow">
							<span class="custom-text" @click="$refs.otherOption.focus()">Other:</span>
							<span class="ml-2 flex items-center flex-grow">
								<input type="text" x-ref="otherOption" class="w-full py-1 px-1 border-0 border-b focus:ring-0 custom-field-input" :class="{ 'is-danger': otherError }" placeholder="Please specify" x-model="otherOption.input" @input="setOtherOption()" :disabled="optionsLimitReached() && !checkedOptions.includes('otherOption')" />
							</span>
						</div>
					</div>
				</template>
		</div>
	</fieldset>

	<div class="mt-8 poll-input" x-show="$store.poll.pollConfig.requireVoterNames" x-cloak>
		

<div>
	<div class="flex justify-between">
		<label for="name" class="label custom-title">
			Name <span class="text-gray-500 custom-text-light">(required)</span>
		</label>
	</div>
	<div class="mt-1 relative flex items-center">
		<input type="text" name="name" id="name" class="input custom-field-input custom-focus-ring-0" placeholder="Enter your name" x-model="voteData.name" x-ref="participantNameInput">
	</div>
</div>

	</div>

	<div class="mt-8 poll-input" x-show="$store.poll.pollConfig.duplicationChecking === 'token'" x-cloak>
		<div>
	<div class="flex justify-between items-center">
		<label for="token" class="label custom-text">
			Unique code <span class="text-gray-500 custom-text-light">(required)</span>
		</label>
		<a href="/help/how-to-obtain-vote-token/" target="_blank"
			class="flex items-center link custom-highlight space-x-1">
			

<svg 
	
	class="h-5 w-5 " 
	xmlns="http://www.w3.org/2000/svg" 
	fill="currentColor"
	viewBox="0 0 20 20"
	stroke="">
	<path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>

</svg>

			<span>What&#39;s this?</span>
		</a>
	</div>
	<div class="mt-1 relative">
		<input type="text" name="token" id="token" class="input custom-field-input custom-text custom-focus-ring-0" placeholder="Enter your unique voting code" x-model="voteData.token" @input.debounce="checkUniqueCode()">
	</div>
</div>

	</div>


	<template x-if="hasLocalVote">
	<div class="mt-8 custom-text">
		Update your vote or <button type="button" @click="hasLocalVote = false; selectedOptions = []; voteData = { id: null, pollVotes: [], otherOption: { value: null, voteValue: 0 }, token: null, voteType: 'add' }; $dispatch('update-checked-options'); $dispatch('add-participant')" class="link custom-input-highlight-text">add a new vote</button>.
	</div>
</template>

</div>

<script>
	function defaultVote() {
		return {
			checkedOptions: [],
			otherOption: { input: null, value: 1},
			otherError: false,
			init() {
				this.$watch('checkedOptions', value => { this.updateSelectedOptions(value) })
			},
			setOtherOption() {
				this.otherError = false

				if (this.otherOption.input) {
					if (!this.$store.poll.pollConfig.isMultipleChoice) {
						this.checkedOptions = []
					}
					const index = this.checkedOptions.indexOf('otherOption')
					if (index === -1) {
						this.checkedOptions.push('otherOption')
					} 
				} else {
					const index = this.checkedOptions.indexOf('otherOption')
					if (index > -1) {
						this.checkedOptions.splice(index, 1)
					}
				}

				this.$nextTick(() => {
					const index = this.selectedOptions.findIndex((option) => option.id === 'other')

					if (index > -1) {
						this.selectedOptions[index].input = this.otherOption.input
					}
				})
			},
			resetOtherOption() {
				this.otherOption.input = null
			},
			updateCheckedOptions() {
				this.checkedOptions = this.selectedOptions.filter(o => o.value === 1).map(o => o.id)
			},
			updateSelectedOptions(value) {
				this.selectedOptions = []
				this.checkedOptions.forEach((checkedOption, i) => {
					if (checkedOption === 'otherOption') {
						this.selectedOptions[i] = { id: 'other', input: this.otherOption.input, value: 1 }
					} else {
						this.selectedOptions[i] = { id: checkedOption, value: 1 }
					}
				})
				this.$dispatch('update-group-options', { pollId: this.$store.poll.id, options: this.selectedOptions })
			},
			optionsLimitReached() {
				if (this.$store.poll.pollConfig.isMultipleChoice) {
					if (this.$store.poll.pollConfig.multipleChoiceMin === 0 && this.$store.poll.pollConfig.multipleChoiceMax === 0) {
						return false
					}
					if (this.checkedOptions.length >= this.$store.poll.pollConfig.multipleChoiceMax) {
						return true
					}
				}
				return false
			},
			alertMinOptions() {
				if (this.checkedOptions.includes('otherOption')) {
					this.otherError = true
				}
			}
		}
	}
</script>


		
<div x-data="{ poll: Alpine.store(&#39;poll&#39;), }">
	<template x-if="poll.pollConfig.deadlineAt">
		<div class="custom-text">
			<template x-if="poll.pollConfig.deadlineAt * 1000 >= new Date().getTime()">
				<span x-text="strawpoll.placeholder('Voting ends in {date}.', { date: strawpoll.secondsToTime(poll.pollConfig.deadlineAt - new Date().getTime() / 1000) })"></span>
			</template>
			<template x-if="poll.pollConfig.deadlineAt * 1000 < new Date().getTime()">
				<span x-text="strawpoll.placeholder('Voting closed {date} ago.', { date: strawpoll.secondsToTime(new Date().getTime() / 1000 - poll.pollConfig.deadlineAt) })"></span>
			</template>
		</div>
	</template>
</div>


	

	<div x-show="voteError" class="rounded-md bg-red-50 dark-bg-opacity-red p-4" x-cloak>
		<div class="flex items-center">
			<div class="flex-shrink-0">
				

<svg 
	
	class="h-5 w-5 text-red-400" 
	xmlns="http://www.w3.org/2000/svg" 
	fill="currentColor"
	viewBox="0 0 20 20"
	stroke="">
	<path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"/>

</svg>

			</div>
			<div class="ml-3">
				<div class="text-sm text-red-700 dark:text-red-100" x-text="voteError"></div>
			</div>
		</div>
	</div>


	<div x-show="suggestLinkOut" class="rounded-md bg-blue-50 dark-bg-opacity-blue p-4" x-cloak>
		<div class="flex items-center">
			<div class="flex-shrink-0">
				

<svg 
	
	class="h-5 w-5 text-blue-400" 
	xmlns="http://www.w3.org/2000/svg" 
	fill="currentColor"
	viewBox="0 0 20 20"
	stroke="">
	<path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd"/>

</svg>

			</div>
			<div class="ml-3">
				<div class="text-sm text-blue-700 dark:text-blue-100">
					Your browser is blocking third-party cookies while using an embedded poll. Try voting on the poll page:  <a class="link custom-highlight" href="https://strawpoll.com/rae5gcp1" target="_blank">Click here</a>.
				</div>
			</div>
		</div>
	</div>

	

<div x-show="showVoteButtons || isEditActive" x-cloak>
	<div class="block sm:hidden" :class="{ 'fixed bottom-0 left-0 right-0 z-50 py-4 custom-box-bg p-4 pb-8 border-t border-default': $store.poll.type === 'meeting' && viewType === 'list' && isEditActive && showStickyVoteButtons }" @scroll.window.throttle.100ms="updateScrollPosY()">
		<div class="grid grid-cols-1 gap-4">
			<button type="submit" class="strawpoll-button-primary button text-sm custom-button px-8 w-full">
				<div x-show="isLoadingVote" x-cloak>
					Validating...
				</div>
				<div class="flex items-center" x-show="!isLoadingVote">
					<div x-show="voteData.voteType !== 'edit'" x-cloak>Vote</div>
					<div x-show="voteData.voteType === 'edit'" x-cloak>Update vote</div>
				</div>
			</button>
	
				<div class="flex items-center space-x-4">
						<a href="/rae5gcp1/results" class="button strawpoll-button-secondary custom-field-input w-full text-sm flex items-center" x-show="$store.pollUser.isAdmin || $store.poll.pollConfig.resultsVisibility !== 'after_vote'" x-cloak>
							

<svg 
	
	class="h-5 w-5 -ml-1 mr-2 " 
	xmlns="http://www.w3.org/2000/svg" 
	fill="currentColor"
	viewBox="0 0 20 20"
	stroke="">
	<path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"/>

</svg>

							<span>Results</span>
						</a>
						<button type="button" @click="$dispatch('poll-share-modal', {  poll: $store.poll })" class="button strawpoll-button-secondary custom-field-input w-full text-sm flex items-center" x-show="!$store.poll.pollConfig.hideShareButton" x-cloak>
							

<svg 
	
	class="h-5 w-5 -ml-1 mr-2 " 
	xmlns="http://www.w3.org/2000/svg" 
	fill="currentColor"
	viewBox="0 0 20 20"
	stroke="">
	<path d="M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"/>

</svg>

							<span>Share</span>
						</button>
				</div>
		</div>
	</div>

	<div class="hidden sm:block">
		<div class="flex items-center justify-between">
			<div class="flex items-center space-x-4">
				<button type="submit" class="strawpoll-button-primary button text-sm custom-button px-8">
					<div x-show="isLoadingVote" x-cloak>
						Validating...
					</div>
					<div class="flex items-center" x-show="!isLoadingVote">
						<div x-show="voteData.voteType !== 'edit'" x-cloak>Vote</div>
						<div x-show="voteData.voteType === 'edit'" x-cloak>Update vote</div>
						<div class="hidden sm:block" x-show="voteData.voteType !== 'edit'" x-cloak>
							

<svg 
	
	class="h-5 w-5 ml-2 " 
	xmlns="http://www.w3.org/2000/svg" 
	fill="currentColor"
	viewBox="0 0 20 20"
	stroke="">
	<path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd"/>

</svg>

						</div>
					</div>
				</button>
		
						<a href="/rae5gcp1/results" class="button strawpoll-button-secondary custom-field-input flex items-center" x-show="$store.pollUser.isAdmin || $store.poll.pollConfig.resultsVisibility !== 'after_vote'" x-show="$store.pollUser.isAdmin || $store.poll.pollConfig.resultsVisibility !== 'after_vote'" x-cloak>
							

<svg 
	
	class="h-5 w-5 -ml-1 mr-2 " 
	xmlns="http://www.w3.org/2000/svg" 
	fill="currentColor"
	viewBox="0 0 20 20"
	stroke="">
	<path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"/>

</svg>

							<span>Show results</span>
						</a>
			</div>
			<button type="button" @click="$dispatch('poll-share-modal', {  poll: $store.poll })" class="w-40 ml-4 button strawpoll-button-secondary custom-field-input flex items-center" x-show="!$store.poll.pollConfig.hideShareButton" x-cloak>
				

<svg 
	
	class="h-5 w-5 -ml-1 mr-2 " 
	xmlns="http://www.w3.org/2000/svg" 
	fill="currentColor"
	viewBox="0 0 20 20"
	stroke="">
	<path d="M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"/>

</svg>

				<span>Share</span>
			</button>
		</div>
	</div>
</div>

<!--div>
	<div class="grid grid-cols-1 gap-3 sm:gap-0 sm:flex sm:items-center sm:space-x-4">
		<button type="submit" class="strawpoll-button-primary button text-base sm:text-sm custom-button px-8 w-full sm:w-auto">
			<div x-show="isLoadingVote" x-cloak>
				Validating...
			</div>
			<div class="flex items-center space-x-2" x-show="!isLoadingVote">
				<div x-show="!isEditActive" x-cloak>Vote</div>
				<div x-show="isEditActive" x-cloak>Update vote</div>
				<div class="hidden sm:block">
					

<svg 
	
	class="h-5 w-5 " 
	xmlns="http://www.w3.org/2000/svg" 
	fill="currentColor"
	viewBox="0 0 20 20"
	stroke="">
	<path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd"/>

</svg>

				</div>
			</div>
		</button>

			<div class="text-center text-base sm:text-sm custom-text w-full sm:w-auto" x-show="$store.pollUser.isAdmin || $store.poll.pollConfig.resultsVisibility !== 'after_vote'" x-cloak>
				<a href="/rae5gcp1/results" class="strawpoll-button-secondary p-2 rounded-md flex items-center justify-center">
					Show results
				</a>
			</div>
	</div>
</div-->

</form>


<script>
	let voteSuccess = null

	function pollVote() {
		return {
			pollResults: {
				pollParticipants: []
			},
			showVoteButtons: true,
			selectedOptions: [],
			votedOptionCount: 0,
			voteData: {
				id: '',
				name: '',
				pollVotes: [],
				voteType: 'add',
				token: '',
				isEmbed: false,
			},
			viewType: 'list',
			hasLocalVote: false,
			isEditActive: false,
			voteError: null,
			isLoadingVote: false,
			staticTimezone: null,
			currentTimezone: strawpoll.getTimezone(),
			userVotes: strawpoll.toCamelCaseKeys([]),
			localVotes: [],
			scrollPosY: 0,
			showStickyVoteButtons: false,
			suggestLinkOut: false,
			init() {
				if (this.$store.poll.pollMeta.timezone) {
					this.currentTimezone = this.$store.poll.pollMeta.timezone
				}



					this.checkLocalVotes()


			},
			async checkUniqueCode() {
				const response = await strawpoll.fetchAPI('/polls/'+this.$store.poll.id+'/unique_code', {
					method: 'POST',
					body: JSON.stringify({
						unique_code: this.voteData.token,
					})
				})

				if (!response.error) {
					const data = strawpoll.toCamelCaseKeys(response)
					if (data.voteType === 'add') {

					} else if (data.voteType === 'edit') {
						this.voteData.voteType = 'edit'
						this.voteData.id = data.id
						this.voteData.key = data.key
					}
				}
			},
			updateScrollPosY() {
				this.$nextTick(() => {
					let dataListTable = document.getElementById('dataListTable')
					if (dataListTable) {
						if (window.pageYOffset < this.scrollPosY || window.pageYOffset > dataListTable.scrollHeight - 200) {
							this.showStickyVoteButtons = false
						} else if (window.pageYOffset > 50) {
							this.showStickyVoteButtons = true
						}
						this.scrollPosY = window.pageYOffset
					}
				})
			},
			checkLocalVotes() {
				if (this.$store.poll.pollConfig.editVotePermissions === 'nobody') {
					return
				}

				if (this.$store.poll.pollConfig.editVotePermissions === 'admin' && !this.$store.pollUser.isAdmin) {
					return
				}

				let localVotes = [] // localStorage.get('polls/'+this.$store.poll.id) || [] // TODO: deprecate this on Dec 20th, 2022
				if (this.userVotes) {
					localVotes = this.userVotes
				}
				
				let pollResults = this.$store.pollResults

				pollResults.pollParticipants.forEach((pollParticipant) => {
					if (this.$store.pollUser.isAdmin && 
						(this.$store.poll.pollConfig.editVotePermissions === 'admin'
						|| this.$store.poll.pollConfig.editVotePermissions === 'admin_voter')) {
						pollParticipant.isEditAllowed = true
					}

					if (this.$store.poll.pollConfig.editVotePermissions === 'everybody') {
						pollParticipant.isEditAllowed = true
					}
				})

				localVotes.forEach((localVote) => {
					if ((!this.$store.poll.resetAt && !localVote.pollResetAt) || this.$store.poll.resetAt === localVote.pollResetAt) {
						if (pollResults.pollParticipants.length === 0 || pollResults.pollParticipants.findIndex(p => p.id === localVote.voteData.id) > -1) {
							this.localVotes.push(localVote)
						}
					}

					if (this.$store.poll.pollConfig.hideParticipants && !this.$store.pollUser.isAdmin) {
						let pollVotes = []
						pollResults.pollOptions.forEach((pollOption) => {
							const voteIndex = localVote.voteData.pollVotes.findIndex(v => v.id === pollOption.id)

							if (voteIndex > -1) {
								pollVotes.push( localVote.voteData.pollVotes[voteIndex].value)
							} else {
								pollVotes.push(null)
							}
						})

						pollResults.pollParticipants.push({
							id: localVote.voteData.id,
							name: localVote.voteData.name,
							pollVotes: pollVotes
						})
					}

					const rowIndex = pollResults.pollParticipants.findIndex(p => p.id === localVote.voteData.id)
					if (rowIndex > -1) {
						pollResults.pollParticipants[rowIndex].isEditAllowed = true
						pollResults.pollParticipants[rowIndex].key = localVote.voteData.key
					}
				})

				// this.$store.pollResults.update(pollResults)

				if (this.viewType === 'grid') {
					this.$dispatch('setup-datagrid')
				}

				if (this.viewType !== 'grid') {
					if (this.localVotes.length > 1) {
						this.selectLocalVote(this.localVotes[this.localVotes.length-1].voteData)
					} else if (this.localVotes.length === 1) {
						this.selectLocalVote(this.localVotes[0].voteData)
					} else {
						this.hasLocalVote = false
					}
				}
			},
			selectLocalVote(voteData) {
				this.hasLocalVote = true
				let pollVotes = []
				this.$store.poll.pollOptions.forEach((pollOption) => {
					const voteIndex = voteData.pollVotes.findIndex(v => v.id === pollOption.id)

					if (voteIndex > -1) {
						pollVotes.push({ id: pollOption.id, value: voteData.pollVotes[voteIndex].value })
					} else {
						pollVotes.push({ id: pollOption.id, value: null })
					}
				})
				this.selectedOptions = pollVotes
				this.voteData = voteData
				this.voteData.voteType = 'edit'
				this.$nextTick(() => { 
					this.$dispatch('update-checked-options')
					this.$dispatch('update-viewstate', 'edit')
				})
			},
			checkFullDays() {
				let hasFullDays = false
				this.$store.poll.pollOptions.forEach((pollOption) => {
					if (pollOption.secondary === 'full_day') hasFullDays = true
				})
				return hasFullDays
			},
			async checkUserVotes() {
				// await keepAlive()

				const response = await strawpoll.fetchAPI('/users/@me/polls/'+this.$store.poll.id)

				if (!response.error) {
					// localStorage.set('polls/'+this.$store.poll.id, strawpoll.toCamelCaseKeys(response.data))
					this.userVotes = strawpoll.toCamelCaseKeys(response.data)
					this.checkLocalVotes()
				}
			},
			parseSelectedOptions() {
				this.voteData.pollVotes = this.selectedOptions
				this.votedOptionCount = 0
				this.voteData.pollVotes.forEach((vote) => {
					if (this.$store.poll.type === 'meeting' && vote.value === null) {
						vote.value = 0
					}
					if (vote.value === 1) {
						this.votedOptionCount++
					}
				})
			},
			async votePoll() {
					this.submitPoll(null)
			},
			async submitPoll(token) {
				if (this.$store.poll.pollConfig.duplicationChecking === 'session' || this.$store.poll.pollConfig.duplicationChecking === 'ip') {
					let localVoteSuccess = null
					try {
						localVoteSuccess = localStorage.getItem('strawpoll:' + this.$store.poll.id + ':vote_success')
					} catch (e) {
						// console.log('localStorage disabled!')
					}

					if (voteSuccess === true || localVoteSuccess === true) {
						this.voteError = 'You already voted on this poll.'
						return
					}
				}

				if (!this.$store.poll.pollConfig.isMultipleChoice && this.selectedOptions.length === 0) {
					this.voteError = strawpoll.placeholder('Please choose at least {min} option(s).', { min: 1 })
					this.$dispatch('alert-min-options')
					return
				}

				this.parseSelectedOptions()

				// this.selectedOptions.forEach((selectedOption) => {
				// 	const index = this.$store.poll.pollOptions.findIndex(pollOption => pollOption.id === selectedOption.id)

				// 	if (index > -1) {
				// 		this.voteData.pollVotes[index] = selectedOption.value
				// 	}
				// })

				if (this.$store.poll.pollConfig.isMultipleChoice) {
					if (this.selectedOptions.length < this.$store.poll.pollConfig.multipleChoiceMin) {
						this.voteError = strawpoll.placeholder('Please choose at least {min} option(s).', { min: this.$store.poll.pollConfig.multipleChoiceMin })
						return
					}
				}

				if (this.$store.poll.pollConfig.requireVoterNames && !this.voteData.name) {
					// this.$dispatch('add-participant')
					this.$dispatch('hide-all-participants')
					// this.voteError = 'Please fill in the required field: Name'
					this.$store.notification.show({ title: 'Please fill in the required field: Name', type: 'error' })
					return
				}

				this.isLoadingVote = true
				this.voteError = null
				this.suggestLinkOut = false

				// const result = await strawpoll.votePoll(this.$store.poll, this.voteData)

				// if (this.$store.poll.pollConfig.strictChecking && (this.$store.poll.pollConfig.duplicationChecking === 'session' || this.$store.poll.pollConfig.duplicationChecking === 'ip')) {
				// 	if (window.isIncognito === true) {
				// 		this.$store.notification.show({ title: 'Voting in incognito mode is not allowed. Please disable incognito mode and try again.', type: 'error' })
				// 		return
				// 	}
				// }

				if (!this.voteData.voteType) {
					this.voteData.voteType = 'add'
				}

				const result = await strawpoll.fetchAPI('/polls/'+this.$store.poll.id+'/vote', {
					method: 'POST',
					body: JSON.stringify({
						pv: this.$store.poll.version,
						v: this.voteData,
						h: false, // headless
						ht: false, // hasTouch
						token: token
					})
				})

				this.isLoadingVote = false


				if (result.error) {
					if (result.error.missing_session_id && this.voteData.isEmbed) {
						this.suggestLinkOut = true
					} else {
						this.voteError = result.error.message
					}
				} else {
					if (this.$store.poll.type === 'meeting'
						|| (this.$store.poll.type === 'multiple_choice' && this.$store.poll.pollConfig.voteType === 'participant_grid')
						|| (this.$store.poll.type === 'multiple_choice' && 'vote' === 'results')) {
						// this.voteData.name = ''
						// console.log(this.voteData)
						this.$nextTick(() => {
							this.$dispatch('get-poll-results')
						})
						if (this.viewType === 'grid') {
							this.$store.notification.show({ title: result.message })
							document.querySelector('.dataGridContainer').scrollTo(0, document.querySelector('.dataGridContainer').scrollHeight);
							this.voteData.id = null
							this.voteData.name = ''
							this.voteData.voteType = 'add'
						} else {
							this.$dispatch('vote-success-modal', { poll: this.$store.poll })
							this.$nextTick(() => { this.checkUserVotes() })
						}
					} else {
						// this.$dispatch('get-poll-results')
						this.$dispatch('vote-success-modal', { poll: this.$store.poll })
						this.$nextTick(() => { this.checkLocalVotes() })
					}
					
					console.log('set vote success')

					try {
						localStorage.setItem('strawpoll:' + this.$store.poll.id + ':vote_success', true)
					} catch (e) {

					}


					// window.location.href = this.$store.poll.path + '/voted'
				} 
			},
		}
	}
</script>

<script>
	window.onmessage = async (e) => {
		if (e.data && e.data.type && e.data.type === 'strawpoll_return_vote_success') {
			let pollId = e.data.id

			if (e.data.value && (e.data.value === 'true' || e.data.value === true)) { // might be serialized as string
				voteSuccess = true
				try {
					localStorage.setItem('strawpoll:' + pollId + ':vote_success', true)
				} catch (e) {

				}
			}
		}
	}

</script>


		</div>

			
<div class="strawpoll-restriction-footer mt-8 custom-text text-center text-sm max-w-xs sm:max-w-3xl mx-auto">
	<div class="flex justify-center items-center" x-show="$store.poll.pollConfig.duplicationChecking === 'ip'" x-cloak>
		

<svg 
	
	class="h-4 w-4 -ml-1 mr-2 " 
	xmlns="http://www.w3.org/2000/svg" 
	fill="currentColor"
	viewBox="0 0 20 20"
	stroke="">
	<path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"/>

</svg>

		<span>One vote per IP-Address allowed.</span>
	</div>
	<div class="flex justify-center items-center mt-2" x-show="$store.poll.pollConfig.duplicationChecking === 'ip' && $store.poll.pollConfig.strictChecking === true" x-cloak>
		

<svg 
	
	class="h-4 w-4 -ml-1 mr-2 " 
	xmlns="http://www.w3.org/2000/svg" 
	fill="currentColor"
	viewBox="0 0 20 20"
	stroke="">
	<path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>

</svg>

		<span>Strict checking is enabled.</span>
	</div>
	<div class="flex justify-center items-center" x-show="$store.poll.pollConfig.duplicationChecking === 'session'" x-cloak>
		

<svg 
	
	class="h-4 w-4 -ml-1 mr-2 " 
	xmlns="http://www.w3.org/2000/svg" 
	fill="currentColor"
	viewBox="0 0 20 20"
	stroke="">
	<path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"/>

</svg>

		<span>One vote per browser session allowed.</span>
	</div>
	<div class="flex justify-center items-center" x-show="$store.poll.pollConfig.duplicationChecking === 'user'" x-cloak>
		

<svg 
	
	class="h-4 w-4 -ml-1 mr-2 " 
	xmlns="http://www.w3.org/2000/svg" 
	fill="currentColor"
	viewBox="0 0 20 20"
	stroke="">
	<path fill-rule="evenodd" d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z" clip-rule="evenodd"/>

</svg>

		<span>One vote per user account allowed.</span>
	</div>
	<div class="flex justify-center items-center" x-show="$store.poll.pollConfig.duplicationChecking === 'token'" x-cloak>
		

<svg 
	
	class="h-4 w-4 -ml-1 mr-2 " 
	xmlns="http://www.w3.org/2000/svg" 
	fill="currentColor"
	viewBox="0 0 20 20"
	stroke="">
	<path fill-rule="evenodd" d="M2.166 4.999A11.954 11.954 0 0010 1.944 11.954 11.954 0 0017.834 5c.11.65.166 1.32.166 2.001 0 5.225-3.34 9.67-8 11.317C5.34 16.67 2 12.225 2 7c0-.682.057-1.35.166-2.001zm11.541 3.708a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>

</svg>

		<span>One vote per unique code allowed.</span>
	</div>
	<div class="flex justify-center items-center" x-show="$store.poll.pollConfig.duplicationChecking === 'none' && $store.poll.type !== 'meeting'" x-cloak>
		

<svg 
	
	class="h-4 w-4 -ml-1 mr-2 " 
	xmlns="http://www.w3.org/2000/svg" 
	fill="currentColor"
	viewBox="0 0 20 20"
	stroke="">
	<path d="M10 2a5 5 0 00-5 5v2a2 2 0 00-2 2v5a2 2 0 002 2h10a2 2 0 002-2v-5a2 2 0 00-2-2H7V7a3 3 0 015.905-.75 1 1 0 001.937-.5A5.002 5.002 0 0010 2z"/>

</svg>

		<span>Users can vote multiple times without limitation.</span>
	</div>
</div>

			



	</div>

</div>


<div x-data="{ open: false, index: 0, maxWidth: 'max-w-lg', poll: null }" 
	@vote-success-modal.window="poll = JSON.parse(JSON.stringify($event.detail.poll)); index = $event.detail.index; open = true" 
	@keydown.window.escape="open = false" x-show="open" class="fixed z-50 inset-0 overflow-y-auto" x-ref="dialog" aria-modal="true" x-cloak>
	<div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
		<div x-show="open" class="fixed z-40 inset-0 bg-gray-500 dark:bg-gray-900 opacity-80" @click="open = false" aria-hidden="true" x-cloak>
		</div>

		<!-- This element is to trick the browser into centering the modal contents. -->
		<span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true"></span>
		
		<template x-if="open">
			<div x-trap="open" class="relative z-50 inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-visible shadow-xl my-8 flex-grow sm:align-middle sm:w-full" :class="maxWidth">
				<div class="absolute top-0 right-0 pt-4 pr-4">
					<button type="button" class="rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 custom-text custom-input-highlight" @click="open = false">
						<span class="sr-only">Close</span>
						

<svg 
	
	class="h-6 w-6 " 
	xmlns="http://www.w3.org/2000/svg" 
	fill="none"
	viewBox="0 0 24 24"
	stroke="currentColor">
	<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>

</svg>

					</button>
				</div>

				
<div class="strawpoll-vote-success-modal px-4 pt-5 pb-4 sm:p-6 rounded-md custom-box">
	<div>
		<div class="mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100 ">
			<svg class="h-6 w-6 text-green-600 " x-description="Heroicon name: outline/check" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
				<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
			</svg>
		</div>
		<div class="mt-3 text-center sm:mt-5">
			<h3 class="text-lg leading-6 font-medium text-gray-900 dark:text-white custom-title" id="modal-title">
				Vote successful
			</h3>
			<div class="mt-2">
				<p class="text-sm text-gray-500 custom-text">
					Thank you for participating in this poll. Your vote has been counted.
				</p>
			</div>
		</div>
	</div>

	<div class="strawpoll-vote-success-modal-button-container mt-4 sm:mt-6 sm:flex sm:space-x-6">
					<a href="/rae5gcp1/results" class="button w-full custom-button">
						

<svg 
	
	class="h-5 w-5 -ml-1 mr-2 " 
	xmlns="http://www.w3.org/2000/svg" 
	fill="currentColor"
	viewBox="0 0 20 20"
	stroke="">
	<path d="M2 11a1 1 0 011-1h2a1 1 0 011 1v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5zM8 7a1 1 0 011-1h2a1 1 0 011 1v9a1 1 0 01-1 1H9a1 1 0 01-1-1V7zM14 4a1 1 0 011-1h2a1 1 0 011 1v12a1 1 0 01-1 1h-2a1 1 0 01-1-1V4z"/>

</svg>

						<span>Results</span>
					</a>
        <button type="button" @click="$dispatch('poll-share-modal', { poll: $store.poll })" x-show="true" x-cloak
			class="mt-4 sm:mt-0 button w-full is-light custom-secondary-button-bg custom-secondary-button-text custom-secondary-button-border custom-input-highlight">
			<svg class="-ml-1 mr-2 h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
				<path d="M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"/>

			</svg>
			Share
        </button>
	</div>
</div>

			</div>
		</template>
	</div>
</div>



<div x-data="{ open: false, index: 0, maxWidth: 'max-w-lg', poll: null }" 
	@poll-share-modal.window="poll = JSON.parse(JSON.stringify($event.detail.poll)); index = $event.detail.index; open = true" 
	@keydown.window.escape="open = false" x-show="open" class="fixed z-50 inset-0 overflow-y-auto" x-ref="dialog" aria-modal="true" x-cloak>
	<div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
		<div x-show="open" class="fixed z-40 inset-0 bg-gray-500 dark:bg-gray-900 opacity-80" @click="open = false" aria-hidden="true" x-cloak>
		</div>

		<!-- This element is to trick the browser into centering the modal contents. -->
		<span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true"></span>
		
		<template x-if="open">
			<div x-trap="open" class="relative z-50 inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-visible shadow-xl my-8 flex-grow sm:align-middle sm:w-full" :class="maxWidth">
				<div class="absolute top-0 right-0 pt-4 pr-4">
					<button type="button" class="rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 " @click="open = false">
						<span class="sr-only">Close</span>
						

<svg 
	
	class="h-6 w-6 " 
	xmlns="http://www.w3.org/2000/svg" 
	fill="none"
	viewBox="0 0 24 24"
	stroke="currentColor">
	<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>

</svg>

					</button>
				</div>

				
<div class="divide-y divide-gray-200 dark:divide-gray-700">
	<div class="text-md px-4 py-3 sm:px-6 sm:py-4 flex justify-start items-center">
		

<svg 
	
	class="h-6 w-6 text-gray-400" 
	xmlns="http://www.w3.org/2000/svg" 
	fill="currentColor"
	viewBox="0 0 20 20"
	stroke="">
	<path d="M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"/>

</svg>

		<span class="ml-2">Share</span>
	</div>
	
	<div class="px-4 py-3 sm:px-6 sm:py-4">
		
<div x-data="{ poll: (Alpine.store('poll').id ? Alpine.store('poll') : poll), pollUrl: '' }" x-init="pollUrl = poll.url" class="space-y-6 divide-y divide-gray-200 dark:divide-gray-700">
	<div>
		<div class="mx-auto sm:max-w-md">
			<h3 class="text-lg font-medium text-gray-900 dark:text-gray-200">Share via link</h3>

			<p class="mt-1 text-gray-500 text-sm">Use this link to share the poll with your participants.</p>

			<div class="mt-3 flex rounded-md shadow-sm">
				<div class="relative flex items-stretch flex-grow focus-within:z-10">
					<input type="text" name="poll-url" class="block w-full shadow-sm focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm border border-gray-300 rounded-none rounded-l-md bg-white dark:bg-gray-700 dark:border-gray-700" x-model="pollUrl" @click="$el.select()" readonly="readonly" />
				</div>
				<button type="button" class="-ml-px relative inline-flex items-center space-x-2 px-4 py-2 border border-gray-300 text-sm font-medium rounded-r-md text-gray-700 dark:text-gray-200 bg-gray-50 dark:bg-gray-600 dark:border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-500 focus:outline-none focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500"
					@click="$clipboard(pollUrl); $store.notification.show({ title: 'Successfully copied.' })">
					

<svg 
	
	class="h-5 w-5 text-gray-400" 
	xmlns="http://www.w3.org/2000/svg" 
	fill="currentColor"
	viewBox="0 0 20 20"
	stroke="">
	<path d="M8 2a1 1 0 000 2h2a1 1 0 100-2H8z"/><path d="M3 5a2 2 0 012-2 3 3 0 003 3h2a3 3 0 003-3 2 2 0 012 2v6h-4.586l1.293-1.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L10.414 13H15v3a2 2 0 01-2 2H5a2 2 0 01-2-2V5zM15 11h2a1 1 0 110 2h-2v-2z"/>

</svg>

					<span>Copy</span>
				</button>
			</div>
		</div>
	</div>


	<div>
		<div class="mx-auto sm:max-w-md pt-4">
			<h3 class="text-lg font-medium text-gray-900 dark:text-gray-200">Share on social media</h3>

			<p class="mt-1 text-gray-500 text-sm">Share this poll with friends &amp; followers on social media channels.</p>

			<div class="mt-3 space-y-4">
				<a :href="'https://api.whatsapp.com/send?text='+ poll.title +' - '+ pollUrl" target="_blank" rel="noopener"
					class="button w-full text-white space-x-2 hover:opacity-80" style="background-color: #25D366;">
					<svg class="text-white w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
						<path d="M.057 24l1.687-6.163c-1.041-1.804-1.588-3.849-1.587-5.946.003-6.556 5.338-11.891 11.893-11.891 3.181.001 6.167 1.24 8.413 3.488 2.245 2.248 3.481 5.236 3.48 8.414-.003 6.557-5.338 11.892-11.893 11.892-1.99-.001-3.951-.5-5.688-1.448l-6.305 1.654zm6.597-3.807c1.676.995 3.276 1.591 5.392 1.592 5.448 0 9.886-4.434 9.889-9.885.002-5.462-4.415-9.89-9.881-9.892-5.452 0-9.887 4.434-9.889 9.884-.001 2.225.651 3.891 1.746 5.634l-.999 3.648 3.742-.981zm11.387-5.464c-.074-.124-.272-.198-.57-.347-.297-.149-1.758-.868-2.031-.967-.272-.099-.47-.149-.669.149-.198.297-.768.967-.941 1.165-.173.198-.347.223-.644.074-.297-.149-1.255-.462-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.297-.347.446-.521.151-.172.2-.296.3-.495.099-.198.05-.372-.025-.521-.075-.148-.669-1.611-.916-2.206-.242-.579-.487-.501-.669-.51l-.57-.01c-.198 0-.52.074-.792.372s-1.04 1.016-1.04 2.479 1.065 2.876 1.213 3.074c.149.198 2.095 3.2 5.076 4.487.709.306 1.263.489 1.694.626.712.226 1.36.194 1.872.118.571-.085 1.758-.719 2.006-1.413.248-.695.248-1.29.173-1.414z"/>
					</svg>
					<span>Share on WhatsApp</span>
				</a>

				<a :href="'https://www.twitter.com/share?text='+ poll.title +'&url='+ pollUrl" target="_blank" rel="noopener"
					class="button w-full text-white space-x-2 hover:opacity-80" style="background-color: #1da1f2;">
					<svg class="text-white w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
						<path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"/>
					</svg>
					<span>Share on Twitter</span>
				</a>

				<a :href="'https://www.facebook.com/sharer/sharer.php?u='+ pollUrl" target="_blank" rel="noopener"
					class="button w-full text-white space-x-2 hover:opacity-80" style="background-color: #4267B2;">
					<svg class="text-white w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
						<path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"/>
					</svg>
					<span>Share on Facebook</span>
				</a>

				<a :href="'https://www.reddit.com/submit?url='+ pollUrl +'&title='+ poll.title +' - StrawPoll'" target="_blank" rel="noopener" 
					class="button w-full text-white space-x-2 hover:opacity-80" style="background-color: #ff4500;">
					<svg class="text-white w-5 h-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
						<path d="M24 11.779c0-1.459-1.192-2.645-2.657-2.645-.715 0-1.363.286-1.84.746-1.81-1.191-4.259-1.949-6.971-2.046l1.483-4.669 4.016.941-.006.058c0 1.193.975 2.163 2.174 2.163 1.198 0 2.172-.97 2.172-2.163s-.975-2.164-2.172-2.164c-.92 0-1.704.574-2.021 1.379l-4.329-1.015c-.189-.046-.381.063-.44.249l-1.654 5.207c-2.838.034-5.409.798-7.3 2.025-.474-.438-1.103-.712-1.799-.712-1.465 0-2.656 1.187-2.656 2.646 0 .97.533 1.811 1.317 2.271-.052.282-.086.567-.086.857 0 3.911 4.808 7.093 10.719 7.093s10.72-3.182 10.72-7.093c0-.274-.029-.544-.075-.81.832-.447 1.405-1.312 1.405-2.318zm-17.224 1.816c0-.868.71-1.575 1.582-1.575.872 0 1.581.707 1.581 1.575s-.709 1.574-1.581 1.574-1.582-.706-1.582-1.574zm9.061 4.669c-.797.793-2.048 1.179-3.824 1.179l-.013-.003-.013.003c-1.777 0-3.028-.386-3.824-1.179-.145-.144-.145-.379 0-.523.145-.145.381-.145.526 0 .65.647 1.729.961 3.298.961l.013.003.013-.003c1.569 0 2.648-.315 3.298-.962.145-.145.381-.144.526 0 .145.145.145.379 0 .524zm-.189-3.095c-.872 0-1.581-.706-1.581-1.574 0-.868.709-1.575 1.581-1.575s1.581.707 1.581 1.575-.709 1.574-1.581 1.574z"/>
					</svg>
					<span>Share on Reddit</span>
				</a>
			</div>
		</div>
	</div>
</div>

	</div>

	<div class="px-4 py-3 sm:px-6 sm:py-4">
		<button type="button" class="button is-light w-full" @click="open = false;">
			Close
		</button>
	</div>
</div>

<!--template x-if="open"><div x-data="mobileShare()"></div></template-->

<script>
	function mobileShare() {
		return {
			init() {
				if (navigator.share && DEVICE_TYPE == 'mobile') {
					navigator.share({
						title: this.poll.title,
						url: '' + this.poll.path
					}).then(() => {
						this.$dispatch('notification', { title: 'Successfully shared.' })
					})
					.catch(console.error)
					
					this.$nextTick(() => { this.open = false })
				}
			}
		}
	}
</script>

			</div>
		</template>
	</div>
</div>

<div x-data="{ open: false, index: 0, maxWidth: 'max-w-lg', poll: null }" 
	@poll-qrcode-modal.window="poll = JSON.parse(JSON.stringify($event.detail.poll)); index = $event.detail.index; open = true" 
	@keydown.window.escape="open = false" x-show="open" class="fixed z-50 inset-0 overflow-y-auto" x-ref="dialog" aria-modal="true" x-cloak>
	<div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
		<div x-show="open" class="fixed z-40 inset-0 bg-gray-500 dark:bg-gray-900 opacity-80" @click="open = false" aria-hidden="true" x-cloak>
		</div>

		<!-- This element is to trick the browser into centering the modal contents. -->
		<span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true"></span>
		
		<template x-if="open">
			<div x-trap="open" class="relative z-50 inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-visible shadow-xl my-8 flex-grow sm:align-middle sm:w-full" :class="maxWidth">
				<div class="absolute top-0 right-0 pt-4 pr-4">
					<button type="button" class="rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 " @click="open = false">
						<span class="sr-only">Close</span>
						

<svg 
	
	class="h-6 w-6 " 
	xmlns="http://www.w3.org/2000/svg" 
	fill="none"
	viewBox="0 0 24 24"
	stroke="currentColor">
	<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>

</svg>

					</button>
				</div>

				<div x-data="qrCodeModal()" class="divide-y divide-gray-200 dark:divide-gray-700">
	<div class="text-md px-4 py-3 sm:px-6 sm:py-4 flex items-center">
		

<svg 
	
	class="h-6 w-6 text-gray-400" 
	xmlns="http://www.w3.org/2000/svg" 
	fill="currentColor"
	viewBox="0 0 20 20"
	stroke="">
	<path fill-rule="evenodd" d="M3 4a1 1 0 011-1h3a1 1 0 011 1v3a1 1 0 01-1 1H4a1 1 0 01-1-1V4zm2 2V5h1v1H5zM3 13a1 1 0 011-1h3a1 1 0 011 1v3a1 1 0 01-1 1H4a1 1 0 01-1-1v-3zm2 2v-1h1v1H5zM13 3a1 1 0 00-1 1v3a1 1 0 001 1h3a1 1 0 001-1V4a1 1 0 00-1-1h-3zm1 2v1h1V5h-1z" clip-rule="evenodd"/><path d="M11 4a1 1 0 10-2 0v1a1 1 0 002 0V4zM10 7a1 1 0 011 1v1h2a1 1 0 110 2h-3a1 1 0 01-1-1V8a1 1 0 011-1zM16 9a1 1 0 100 2 1 1 0 000-2zM9 13a1 1 0 011-1h1a1 1 0 110 2v2a1 1 0 11-2 0v-3zM7 11a1 1 0 100-2H4a1 1 0 100 2h3zM17 13a1 1 0 01-1 1h-2a1 1 0 110-2h2a1 1 0 011 1zM16 17a1 1 0 100-2h-3a1 1 0 100 2h3z"/>

</svg>

		<span class="ml-2">QR Code</span>
	</div>
	<div class="px-4 py-3 sm:px-6 sm:py-4">
		<div class="flex justify-center">
			<img :src="url" alt="qr_code_modal.qr_code" />
		</div>
	</div>
	<div class="px-4 py-3 sm:px-6 sm:py-4">
		<button type="button" class="button is-light w-full" @click="open = false;">
			Close
		</button>
	</div>
</div>

<script>
	function qrCodeModal() {
		return {
			url: null,
			init() {
				this.url = 'https://cdn.strawpoll.com/images/polls/qr/' + this.poll.id + '.png'
			},
		}
	}
</script>

			</div>
		</template>
	</div>
</div>


<div x-data="{ open: false, index: 0, maxWidth: 'max-w-lg', poll: null }" 
	@poll-embed-modal.window="poll = JSON.parse(JSON.stringify($event.detail.poll)); index = $event.detail.index; open = true" 
	@keydown.window.escape="open = false" x-show="open" class="fixed z-50 inset-0 overflow-y-auto" x-ref="dialog" aria-modal="true" x-cloak>
	<div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
		<div x-show="open" class="fixed z-40 inset-0 bg-gray-500 dark:bg-gray-900 opacity-80" @click="open = false" aria-hidden="true" x-cloak>
		</div>

		<!-- This element is to trick the browser into centering the modal contents. -->
		<span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true"></span>
		
		<template x-if="open">
			<div x-trap="open" class="relative z-50 inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-visible shadow-xl my-8 flex-grow sm:align-middle sm:w-full" :class="maxWidth">
				<div class="absolute top-0 right-0 pt-4 pr-4">
					<button type="button" class="rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 " @click="open = false">
						<span class="sr-only">Close</span>
						

<svg 
	
	class="h-6 w-6 " 
	xmlns="http://www.w3.org/2000/svg" 
	fill="none"
	viewBox="0 0 24 24"
	stroke="currentColor">
	<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>

</svg>

					</button>
				</div>

				<div x-data="pollEmbed()" class="divide-y divide-gray-200 dark:divide-gray-700">
	<div class="text-md px-4 pt-4 pb-3 sm:px-6 sm:py-4 flex justify-start items-center">
		

<svg 
	
	class="h-6 w-6 text-gray-400" 
	xmlns="http://www.w3.org/2000/svg" 
	fill="currentColor"
	viewBox="0 0 20 20"
	stroke="">
	<path fill-rule="evenodd" d="M12.316 3.051a1 1 0 01.633 1.265l-4 12a1 1 0 11-1.898-.632l4-12a1 1 0 011.265-.633zM5.707 6.293a1 1 0 010 1.414L3.414 10l2.293 2.293a1 1 0 11-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0zm8.586 0a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 11-1.414-1.414L16.586 10l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd"/>

</svg>

		<span class="ml-2">Embed</span>
	</div>
	<div class="px-4 pt-3 pb-2 sm:px-6 sm:py-4 sm:px-6 space-y-4 text-gray-700 dark:text-gray-400">
			<div class="space-y-3">
				<div class="text-lg font-medium">User account required</div>
				<div class="text-sm">To embed polls in other websites, a free user account is required.</div>

				<div>
					<a class="button is-primary" href="/signup/">
						Sign up for free
					</a>
				</div>
			</div>
	</div>

	<div class="mt-5 sm:mt-6 px-4 py-3 sm:px-6 sm:py-4">
		<button type="button" class="button is-light w-full" @click="open = false">
			Close
		</button>
	</div>
</div>

<script>
	function pollEmbed() {
		return {
			embedCode: null,
			removeBranding: true,
			init() {
				this.$watch('poll.pollConfig.hideEmbedVoteCount', (value, oldValue) => { if (value !== oldValue) { this.updatePoll(['pollConfig.hideEmbedVoteCount']) } })

				let title_height = 36
				if (this.poll.title.length > 35) {
					title_height = 72
				} else if (this.poll.title.length > 70) {
					title_height = 108
				} else if (this.poll.title.length > 105) {
					title_height = 144
				}

				let num_answers = this.poll.pollOptions.length

				if (!num_answers) {
					num_answers = 5
				}

				const isParticipantGrid = this.poll.pollConfig.voteType === 'participant_grid' ? 1 : 0

				let height = 316

				if (isParticipantGrid) {
					height += title_height + 400 * isParticipantGrid
				} else {
					height += title_height + 64 * num_answers
				}

				this.embedCode = '<div class="strawpoll-embed" id="strawpoll_' + this.poll.id + '" style="height: ' + height + 'px; max-width: 640px; width: 100%; margin: 0 auto; display: flex; flex-direction: column;">'
								+ '<iframe title="StrawPoll Embed" id="strawpoll_iframe_' + this.poll.id + '" src="' + this.poll.embedUrl + '" style="position: static; visibility: visible; display: block; width: 100%; flex-grow: 1;" frameborder="0" allowfullscreen allowtransparency>Loading...</iframe>'
								// + '<div style="display:flex; justify-content: space-between; padding: 6px 8px; font-size: 14px;">'
								// + '<div>Not loading? <a href="' + this.poll.url + '" style="color: #4F46E5; text-decoration: underline;" target="_blank">Click here</a></div>'
								// + '<div style="font-style: italic;">Powered by <a href="https://strawpoll.com/" style="color: #4F46E5; text-decoration: underline;" target="_blank">StrawPoll</a></div>'
								// + '</div>
								+ '<script async src="https://cdn.strawpoll.com/dist/widgets.js" charset="utf-8"><\/script></div>'
			},
			async updatePoll(keys) {
				let update = {}

				keys.forEach((key) => {
					const k = key.match(/^(.*?)\.(.*?)$/)
					if (k) {
						if (typeof update[k[1]] === 'undefined') update[k[1]] = {}
						update[k[1]][k[2]] = this.poll[k[1]][k[2]]
					} else {
						update[key] = this.poll[key]
					}
				})

				const response = await strawpoll.fetchAPI('/polls/'+this.poll.id, {
					method: 'PATCH',
					body: JSON.stringify({
						poll: strawpoll.toSnakeCaseKeys(update),
					})
				})

				if (!response.error) {
					this.$store.poll.update(strawpoll.toCamelCaseKeys(response))
					this.$store.notification.show({ title: 'Successfully updated.' })
				}
			},
		}
	}
</script>

			</div>
		</template>
	</div>
</div>


<div x-data="{ open: false, index: 0, maxWidth: 'max-w-lg', poll: null }" 
	@poll-report-modal.window="poll = JSON.parse(JSON.stringify($event.detail.poll)); index = $event.detail.index; open = true" 
	@keydown.window.escape="open = false" x-show="open" class="fixed z-50 inset-0 overflow-y-auto" x-ref="dialog" aria-modal="true" x-cloak>
	<div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
		<div x-show="open" class="fixed z-40 inset-0 bg-gray-500 dark:bg-gray-900 opacity-80" @click="open = false" aria-hidden="true" x-cloak>
		</div>

		<!-- This element is to trick the browser into centering the modal contents. -->
		<span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true"></span>
		
		<template x-if="open">
			<div x-trap="open" class="relative z-50 inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-visible shadow-xl my-8 flex-grow sm:align-middle sm:w-full" :class="maxWidth">
				<div class="absolute top-0 right-0 pt-4 pr-4">
					<button type="button" class="rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 " @click="open = false">
						<span class="sr-only">Close</span>
						

<svg 
	
	class="h-6 w-6 " 
	xmlns="http://www.w3.org/2000/svg" 
	fill="none"
	viewBox="0 0 24 24"
	stroke="currentColor">
	<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>

</svg>

					</button>
				</div>

				<div x-data="pollReport()" class="px-4 pt-5 pb-4 sm:p-6">
	<div class="sm:flex sm:items-start">
		<div class="mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10">
			<svg class="h-6 w-6 text-red-600" x-description="Heroicon name: outline/exclamation" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
				<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
			</svg>
		</div>
		<div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left flex-grow">
			<h3 class="text-lg leading-6 font-medium text-gray-900 dark:text-gray-200" id="modal-title">
				Report content
			</h3>
			<div class="mt-2">
				<p class="text-sm text-gray-500">
					Please enter a reason for your report:
				</p>
				<textarea class="mt-2 textarea" x-model="reason" rows="3" @focus="error = null"></textarea>
			</div>

			<div x-show="error" class="mt-1 text-red-500 text-sm">
				<span x-text="error"></span>
			</div>
		</div>
	</div>
	<div class="mt-5 sm:mt-4 sm:flex sm:flex-row-reverse">
		<button type="button" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm" @click="reportPoll();">
			Report
		</button>
		<button type="button" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm" @click="open = false">
			Cancel
		</button>
	</div>
</div>

<script>
	function pollReport() {
		return {
			reason: null,
			error: null,
			async reportPoll() {
				this.error = null

				if (!this.reason || this.reason.length < 20) {
					this.error = 'Please enter a reason for your report (mininum 20 characters).'
					return
				}

				const response = await strawpoll.fetchAPI('/polls/'+this.poll.id+'/report', {
					method: 'POST',
					body: JSON.stringify({ reason: this.reason })
				})

				if (!response.error) {					
					this.$store.notification.show({ title: 'Thank you for your report.' })
					this.open = false
				}
			},
		}
	}
</script>

			</div>
		</template>
	</div>
</div>



<div x-data="{ open: false, index: 0, maxWidth: 'max-w-lg', pollParticipant: null }" 
	@vote-delete-modal.window="pollParticipant = JSON.parse(JSON.stringify($event.detail.pollParticipant)); index = $event.detail.index; open = true" 
	@keydown.window.escape="open = false" x-show="open" class="fixed z-50 inset-0 overflow-y-auto" x-ref="dialog" aria-modal="true" x-cloak>
	<div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
		<div x-show="open" class="fixed z-40 inset-0 bg-gray-500 dark:bg-gray-900 opacity-80" @click="open = false" aria-hidden="true" x-cloak>
		</div>

		<!-- This element is to trick the browser into centering the modal contents. -->
		<span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true"></span>
		
		<template x-if="open">
			<div x-trap="open" class="relative z-50 inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-visible shadow-xl my-8 flex-grow sm:align-middle sm:w-full" :class="maxWidth">
				<div class="absolute top-0 right-0 pt-4 pr-4">
					<button type="button" class="rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 " @click="open = false">
						<span class="sr-only">Close</span>
						

<svg 
	
	class="h-6 w-6 " 
	xmlns="http://www.w3.org/2000/svg" 
	fill="none"
	viewBox="0 0 24 24"
	stroke="currentColor">
	<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>

</svg>

					</button>
				</div>

				<div x-data="voteDelete()" class="px-4 pt-5 pb-4 sm:p-6">
	<div class="sm:flex sm:items-start">
		<div class="mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10">
			<svg class="h-6 w-6 text-red-600" x-description="Heroicon name: outline/exclamation" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
				<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path>
			</svg>
		</div>
		<div class="mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left">
			<h3 class="text-lg leading-6 font-medium text-gray-900 dark:text-gray-200" id="modal-title">
				Delete vote
			</h3>
			<div class="mt-2">
				<p class="text-sm text-gray-500">
					Are you sure you want to delete this vote? This action cannot be undone.
				</p>
			</div>
		</div>
	</div>
	<div class="mt-5 sm:mt-4 sm:flex sm:flex-row-reverse">
		<button type="button" class="w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm" @click="deleteVote()">
			Delete
		</button>
		<button type="button" class="mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:w-auto sm:text-sm" @click="open = false">
			Cancel
		</button>
	</div>
</div>

<script>
	function voteDelete() {
		return {
			async deleteVote() {
				this.$dispatch('delete-participant', this.pollParticipant.id)
				this.open = false
			},
		}
	}
</script>

			</div>
		</template>
	</div>
</div>


	<div x-data="{ open: false, index: 0, maxWidth: 'max-w-lg', pollResults: null }" 
	@poll-edit-participant-modal.window="pollResults = JSON.parse(JSON.stringify($event.detail.pollResults)); index = $event.detail.index; open = true" 
	@keydown.window.escape="open = false" x-show="open" class="fixed z-50 inset-0 overflow-y-auto" x-ref="dialog" aria-modal="true" x-cloak>
	<div class="flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0">
		<div x-show="open" class="fixed z-40 inset-0 bg-gray-500 dark:bg-gray-900 opacity-80" @click="open = false" aria-hidden="true" x-cloak>
		</div>

		<!-- This element is to trick the browser into centering the modal contents. -->
		<span class="hidden sm:inline-block sm:align-middle sm:h-screen" aria-hidden="true"></span>
		
		<template x-if="open">
			<div x-trap="open" class="relative z-50 inline-block align-bottom bg-white dark:bg-gray-800 rounded-lg text-left overflow-visible shadow-xl my-8 flex-grow sm:align-middle sm:w-full" :class="maxWidth">
				<div class="absolute top-0 right-0 pt-4 pr-4">
					<button type="button" class="rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 " @click="open = false">
						<span class="sr-only">Close</span>
						

<svg 
	
	class="h-6 w-6 " 
	xmlns="http://www.w3.org/2000/svg" 
	fill="none"
	viewBox="0 0 24 24"
	stroke="currentColor">
	<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>

</svg>

					</button>
				</div>

				<div x-data="editParticipantModal()" class="divide-y divide-gray-200 dark:divide-gray-700">
	<div class="text-md px-4 py-3 sm:px-6 sm:py-4 flex items-center">
		

<svg 
	
	class="h-6 w-6 text-gray-400" 
	xmlns="http://www.w3.org/2000/svg" 
	fill="currentColor"
	viewBox="0 0 20 20"
	stroke="">
	<path d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"/>

</svg>

		<span class="ml-2">Edit participant</span>
	</div>
	<div class="px-4 py-3 sm:px-6 sm:py-4 space-y-3">
		<div class="text-sm text-gray-500 dark:text-gray-400">
			Please select a participant from the list below to edit or delete their vote.
		</div>

		<div class="text-sm text-gray-500 dark:text-gray-400">
			Only participants for whom you have the permission to edit are listed.
		</div>

		<div>
			<label class="label" for="participant">
				Participant
			</label>
			<select id="participant" name="participant" class="mt-1 select" x-model="selectedParticipantId">
				<option value="" disabled>Please select a participant</option>
				<template x-for="participant in $store.pollResults.pollParticipants">
					<option :value="participant.id" x-text="participant.name" :disabled="!participant.isEditAllowed"></option>
				</template>
			</select>
		</div>
	</div>
	<div class="px-4 py-3 sm:px-6 sm:py-4 flex sm:justify-end">
		<button type="button" class="mt-0 w-full sm:w-auto button is-light" @click="open = false">
			Cancel
		</button>
		<button type="button" class="button is-primary w-full sm:w-auto button is-primary ml-3" @click="editParticipant()" :disabled="!selectedParticipantId">
			Edit
		</button>
	</div>
</div>

<script>
	function editParticipantModal() {
		return {
			selectedParticipantId: '',
			editParticipant() {
				this.$dispatch('edit-participant', this.selectedParticipantId)
				this.open = false
			}
		}
	}
</script>

			</div>
		</template>
	</div>
</div>



		</div>

		

		<div x-data aria-live="assertive" class="fixed z-50 top-16 inset-0 flex items-end px-4 py-6 pointer-events-none sm:p-6 sm:items-start">
    <div class="w-full flex flex-col items-center space-y-4 sm:items-end">
        <div x-show="$store.notification.open" x-transition:enter="transform ease-out duration-300 transition" x-transition:enter-start="translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2" x-transition:enter-end="translate-y-0 opacity-100 sm:translate-x-0" x-transition:leave="transition ease-in duration-100" x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0" class="max-w-sm w-full bg-white shadow-lg rounded-lg pointer-events-auto ring-1 ring-gray-300 dark:ring-gray-700 overflow-hidden" aria-hidden="true" x-cloak>
        	<div class="p-4">
        		<div class="flex items-start">
            		<div class="flex-shrink-0" x-show="$store.notification.type === 'success'">
						

<svg 
	
	class="h-6 w-6 text-green-400" 
	xmlns="http://www.w3.org/2000/svg" 
	fill="none"
	viewBox="0 0 24 24"
	stroke="currentColor">
	<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>

</svg>

             		</div>
					<div class="flex-shrink-0" x-show="$store.notification.type === 'error'">
						

<svg 
	
	class="h-6 w-6 text-red-400" 
	xmlns="http://www.w3.org/2000/svg" 
	fill="none"
	viewBox="0 0 24 24"
	stroke="currentColor">
	<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"/>

</svg>

             		</div>
					<div class="ml-3 w-0 flex-1 pt-0.5">
						<p class="text-sm font-medium text-gray-900" x-text="$store.notification.title"></p>
						<p class="mt-1 text-sm text-gray-500" x-text="$store.notification.description" x-cloak></p>
					</div>
					<div class="ml-4 flex-shrink-0 flex">
						<button @click="$store.notification.hide()" class="bg-white rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
							<span class="sr-only">Close</span>
							

<svg 
	
	class="h-5 w-5 " 
	xmlns="http://www.w3.org/2000/svg" 
	fill="currentColor"
	viewBox="0 0 20 20"
	stroke="">
	<path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"/>

</svg>

						</button>
					</div>
				</div>
          	</div>
        </div>
    </div>
</div>


		<script>
	function global() {
		return {
				isAdmin: false,
			isMobileView: false,
			expandBox: false,
			init() {
				let width = (window.innerWidth > 0) ? window.innerWidth : screen.width
				if (width < 769) {
					this.isMobileView = true
				}

				this.$store.meta.update({
					availableLanguages: ['en', 'de', 'fr', 'es', 'pt'],
					displayLang: "en",
					csrfToken: "a7659babfe43937422921b961180bed6d8bb0465",
				})
					this.$store.poll.update(strawpoll.toCamelCaseKeys({"cached_at":1709067649,"created_at":1571817067,"embed_url":"https:\/\/strawpoll.com\/embed\/rae5gcp1","group":null,"id":"eNg6RNDvjgA","media":null,"path":"\/rae5gcp1","pin_code":null,"poll_config":{"allow_comments":false,"allow_indeterminate":true,"allow_other_option":false,"allow_vpn_users":false,"block_vpn_users":true,"deadline_at":null,"duplication_checking":"ip","edit_vote_permissions":"admin_voter","force_appearance":null,"hide_absolute_numbers":false,"hide_embed_vote_count":false,"hide_other_option_results":false,"hide_participants":false,"hide_share_button":false,"hide_unavailable_options":false,"is_multiple_choice":false,"is_private":false,"layout":null,"max_points":null,"multiple_choice_max":0,"multiple_choice_min":0,"number_of_winners":1,"open_at":null,"randomize_options":false,"require_captcha":false,"require_voter_account":false,"require_voter_names":false,"results_visibility":"always","show_write_in_options":false,"strict_checking":false,"vote_type":"default"},"poll_meta":{"comment_count":658,"creator_country":"","description":"","last_vote_at":1709067328,"location":"","participant_count":111990,"pin_code_expired_at":null,"required":1,"timezone":null,"view_count":977699,"vote_count":114655},"poll_options":[{"description":null,"has_votes":true,"id":"YVyPlP4vkyN","is_write_in":false,"max_votes":0,"position":0,"type":"text","uuid":"df158c10-1230-11ee-80ec-d1b6c8953732","value":"Super easy","vote_count":60869},{"description":null,"has_votes":true,"id":"jVyGNPa21Z7","is_write_in":false,"max_votes":0,"position":1,"type":"text","uuid":null,"value":"Somewhat easy","vote_count":13315},{"description":null,"has_votes":true,"id":"BDyNk1pzznR","is_write_in":false,"max_votes":0,"position":2,"type":"text","uuid":"b69e4902-11d1-11ee-bea3-b9561d0720be","value":"Moderate","vote_count":15947},{"description":null,"has_votes":true,"id":"DwyobY83DZA","is_write_in":false,"max_votes":0,"position":3,"type":"text","uuid":"b3f4a0ae-122e-11ee-a741-9cbc195e4bd3","value":"Quite difficult","vote_count":5745},{"description":null,"has_votes":true,"id":"eJnv05JVMZv","is_write_in":false,"max_votes":0,"position":4,"type":"text","uuid":"e4e064f4-122a-11ee-bc5a-8fa1a6ba0d74","value":"Very difficult","vote_count":18757}],"reset_at":null,"results_path":"\/rae5gcp1\/results","slug":"rae5gcp1","status":"published","theme":null,"title":"How easy is it to embed a StrawPoll?","type":"multiple_choice","updated_at":1676381978,"url":"https:\/\/strawpoll.com\/rae5gcp1","user":{"avatar_path":"\/images\/users\/avatars\/gregor-krambs-kjn1vQB7gQe.png","created_at":1522505766,"displayname":"Gregor Krambs","id":"40Zmaa7oZaR","subscription":"business","trusted":1,"user_meta":{"about":"Hi, I'm the founder of StrawPoll.","adfree_participants_remaining":47422,"country_code":"de","invites_remaining":50000,"monthly_points":2538,"total_points":125474,"website":"https:\/\/www.gregorkrambs.com\/en\/"},"username":"gregor-krambs"},"version":"0718ae2e-ac6d-11ed-803a-8faa0fc99b21","workspace":{"created_at":1663510504,"id":"aljVyG6Z7EA","member_count":1,"name":"My workspace","poll_count":3,"updated_at":1683723030}}))
					this.$store.pollUser.update({ isAdmin: false })
					this.$store.pollResults.update(strawpoll.toCamelCaseKeys({}))



				dayjs.locale(strawpoll.getLanguage())
			}
		}
	}

</script>

	</body>
</html>
